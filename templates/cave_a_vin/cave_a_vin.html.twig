{% extends 'base.html.twig' %}

{% block title %}My Cave{% endblock %}

{% block body %}
<div class="cave-carousel-container">
  <h1 class="carousel-title">My Cave</h1>

        <div class="carousel-wrapper">
          <button class="carousel-arrow left">&#8592;</button>
          <div class="carousel-viewport"> 
          <div class="carousel-caves">
              {% for cave in caves %}
        <a href="{{ path('app_cave_show', { id: cave.id }) }}" class="cave-slot">
          <p class="cave-name">{{ cave.nom }}</p>
          <div class="cave-frame">
            <img src="{{ asset('images/cave-a-vin.png') }}" alt="Cave à vin" class="cave-background">
            {% if cave.image and cave.image != 'default-cave.jpg' %}
              <img src="{{ asset('uploads/caves/' ~ cave.image) }}" alt="Image de la cave" class="cave-uploaded-image">
            {% else %}
              <img src="{{ asset('images/default-cave.jpg') }}" alt="Image par défaut" class="cave-default-image">
            {% endif %}
          </div>
        </a>
      {% endfor %}
      <div class="cave-slot">
        <p class="cave-name">Nouvelle cave</p>
        <a href="{{ path('app_new_cave') }}">
          <div class="cave-frame">
            <img src="{{ asset('images/cave-a-vin.png') }}" alt="Nouvelle cave" class="cave-background">
            <img src="{{ asset('images/add-cave-icon.png') }}" alt="Ajouter" class="cave-add-icon">
          </div>
        </a>
      </div>
        
    </div>

    <button class="carousel-arrow right">&#8594;</button>
  </div>
</div>
{% endblock %}
