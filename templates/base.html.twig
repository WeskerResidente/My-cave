<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Acceuil{% endblock %}</title>
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}

        <link rel="stylesheet" href="{{ asset('style/style.css') }}">
    </head>
    <body>
        {% block navbar %}

            <nav class="navbar">
                <div class="logo">
                    <a href=""><img src="{{ asset('images/logo.png') }}" alt="MyCave Logo"></a>
                </div>
                <button class="menu-toggle" aria-label="Ouvrir le menu">â˜°</button>
                <nav class="nav-links">
                    <a href="{{ path('app_home') }}">Accueil</a>
                    <a href="{{ path('app_vin_listes')}}">Les vins</a>
                    <a href="{{ path('app_liste_caves')}}">Toutes les caves</a>
                    <a href="{{ path('app_cave_a_vin') }}">Mes caves</a>
                    {% if app.user %}
                    <a href="{{ path('app_mes_vins') }}">My cave</a></li>
                            {% if is_granted('ROLE_ADMIN') %}
                    <a href="{{ path('app_admin') }}">ðŸ›  Administration</a></li>
                            {% endif %}
                    {% endif %}
                </nav>

            <div class="auth-links">
                {% if app.user %}
                    <form action="{{ path('app_logout') }}" method="post">
                        <a href="{{ path('app_logout') }}">ðŸšª DÃ©connexion</a>
                    </form>
                {% else %}
                    <a href="{{ path('app_register') }}">Inscription</a>
                    <a href="{{ path('app_login') }}">Connexion</a>
                {% endif %}
            </div>
            </nav>
        {% endblock %}
            {% block body %}
                        {% for label, messages in app.flashes %}
                        {% for message in messages %}
                            <div class="flash-message {{ label }}">
                            {{ message }}
                            </div>
                        {% endfor %}
            {% endfor %}
{% endblock %}
        {% block footer %}
            <footer class="site-footer">
                    <div class="footer-links">
                        <a href="{{ path('app_about') }}">Ã€ propos</a>
                        <a href="{{ path('app_contact') }}">Contact</a>
                        <a href="{{ path('app_privacy') }}">Politique de confidentialitÃ©</a>
                        <a href="{{ path('app_terms') }}">Conditions d'utilisation</a>
                    </div>
                    <div class="footer-copy">
                        &copy; {{ "now"|date("Y") }} MyCave
                    </div>
            </footer>
        {% endblock %}
    </body>
</html>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const navbar = document.querySelector('.navbar');
  const toggle  = document.querySelector('.menu-toggle');

  if (navbar && toggle) {
    toggle.addEventListener('click', () => {
      navbar.classList.toggle('open');
    });
  }
});
</script>
